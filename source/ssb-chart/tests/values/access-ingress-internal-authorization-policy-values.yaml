name: "unittest-app"
namespace: "unittest"
appType: "backend"
cluster: "test-cluster"
billingProject: "ssb-unittest"
image:
  repository: ssb.no/unittest-app
  tag: '1.0'
access:
  ingress:
    internal:
      - application: app2
        namespace: n1
      - application: app3
        namespace: n3
        rules:
          - methods: ["GET"]
            paths: ["api/"]
            jwt:
              issuer: https://keycloak.ssb.no/auth/realms/ssb
              audience: app3
      - application: app4
        namespace: n4
        rules:
          - methods: ["POST"]
            paths: ["internal/api/"]
#            when: #TODO: Consider to support when
#              - key: request.headers["x-ssb-ekstern-id"]
#                values: ["123456789"]
#              - key: request.headers[Authorization]
#                values: ["Bearer *"]
